[["final-week-r-markdown-tutorial.html", "15 Final week (R markdown tutorial) 15.1 R markdown tutorial 15.2 Example with the baby name dataset 15.3 load the packages and data 15.4 Explore the data 15.5 Make a plot 15.6 Exercises 15.7 Final tips and tricks", " 15 Final week (R markdown tutorial) For our final week of instruction we read the Xuereb et al. paper in depth as we have at this point done so many similar analyses to whats presented there. We thank the authors for providing a well documented and useful dataset. 15.1 R markdown tutorial For your final assignments weve asked you to prepare your code in R markdown format. You may work in Jetstream for this class, but it may also be more convenient to work on your own laptop for this lesson and for making your final R markdown document for your final assignment. This is a brief tutorial showing you how to use R markdown. There are many other ways to extend your R markdown skills including these guides here, and a helpful cheatsheet here here. R Markdown comes pre-installed with RStudio, but if youre using base R (not RStudio) you can install it with install.packages(\"Rmarkdown\") To launch an R Markdown script you go to the new file icon on the upper left of your screen and select File &gt; New File &gt; R Markdown This will open up a page as below. You can leave it untitled for now and the output as HTML. So just click OK You should now have a template that looks like this: R markdown has two phases, a build or edit phase where you can write the kind of document you want, and a render phase where you turn that document into a pdf, or html file. Well spend a little bit of time editing our R Markdown template and then well use the package knitr to make our final document. R markdown allows you to have separate sections, namely sections devoted to text where you can use html encoding to make headers or make text bold or italicized, and other sections that allow you to place code that R markdown will run each time you render your document. For the normal text sections you can just start writing, note that you can modify headers or make words or phrases bold using the tips in the cheatsheet here FOr the code sections you need to start each section with three ````which is a character you'll find with the~` or tilde button (top left on a PC keyboard). You also need to tell it what kind of code youre writing so for R this will typically look something like: You can now start editing your R markdown document using the example below. 15.2 Example with the baby name dataset You can write an introduction in your R markdown to state that this is an R markdown tutorial using the baby names dataset and then include the following sections as {r, echo=T} code. 15.3 load the packages and data #load the two required packages library(ggplot2) ## Warning: package &#39;ggplot2&#39; was built under R version 4.0.5 library(babynames) ## Warning: package &#39;babynames&#39; was built under R version 4.0.5 #load the data data(&quot;babynames&quot;) 15.4 Explore the data By running the code below you will find that the babynames dataset has the names of babys each year if their name was given to at least 5 babys born in that year. head(babynames) ## # A tibble: 6 x 5 ## year sex name n prop ## &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; &lt;int&gt; &lt;dbl&gt; ## 1 1880 F Mary 7065 0.0724 ## 2 1880 F Anna 2604 0.0267 ## 3 1880 F Emma 2003 0.0205 ## 4 1880 F Elizabeth 1939 0.0199 ## 5 1880 F Minnie 1746 0.0179 ## 6 1880 F Margaret 1578 0.0162 ?babynames 15.5 Make a plot This plot allows you to choose a name and then plots the title of the plot using a manipulation of the facet_wrap and theme function. For this plot you can choose any name youre interested in seeing by changing it in the original subsetting command and it will also plot that name as the title of the plot. ggplot(data=babynames[babynames$name == &quot;Serena&quot;,], aes(x=year, y=prop, group=sex, color=sex))+ geom_point()+ facet_wrap(~name)+ theme(strip.background = element_blank(), strip.text = element_text(hjust = 0, size = 14)) I always like to plot my name because we know the recent history around the peak in the early 2000s (it wasnt anything that I was up to!) but many congrats to Serena Williams (and Venus!) for Winning a gold medal in the 2000 summer olympics and starting a naming trend. Now lets render our R markdown by selecting Knit from the upper left options in Rstudio. Note that you will need to save your script somewhere to do this. Make sure you save it as an .Rmd file. This should be what you see as an html file (with all your own modifications of course!) You can now go back to your R markdown script and do the exercises below. Create a new header called exercises and start a new code chunk. 15.6 Exercises For the same name you choose for your plot above find out what year was the peak (maximum) number given. Does the maximum number match the year for which the proportion is greatest? Solution #when was the max? max(babynames[babynames$name==&quot;Serena&quot;,]$n) ## [1] 1504 # what year was it? babynames[babynames$n==1504 &amp; babynames$name ==&quot;Serena&quot;,] ## # A tibble: 1 x 5 ## year sex name n prop ## &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; &lt;int&gt; &lt;dbl&gt; ## 1 2000 F Serena 1504 0.000754 # this matches the plot above! (not all names do though!) 15.7 Final tips and tricks R markdown has a ton of flexibility. In fact the class website has been made in R markdown (via bookdown). For example if youre curiuos about how to make the pull down solution option we use the code below: &lt;details&gt;&lt;summary&gt;&lt;span style=&quot;color: SeaGreen;&quot;&gt;Solution&lt;/span&gt;&lt;/summary&gt; &lt;p&gt; ##the code you want hidden behind a &quot;solutions&quot; tab &lt;/p&gt; &lt;/details&gt; Which gives something like this after you knit the document: Solution ##the code you want hidden behind a &quot;solutions&quot; tab You can see all the code for each week on our github "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
